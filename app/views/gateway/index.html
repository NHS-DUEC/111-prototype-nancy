{% extends '_layouts/layout.html' %}

{% block page_title %}
{% endblock %}

{% block content %}

<div class="measure">

  <div class="content-block">
      <h1 class="heading--large">How 111 online works</h1>
      <p>Find out how to get medical help near you - what NHS service you might need.</p>
      <ol>
        <li>Answer questions about your main symptom - some are to rule out more serious conditions.</li>
        <li>You won’t get a diagnosis, but you’ll know what to do next.</li>
      </ol>
      <div class="content-seperator content-seperator_equalvertspacing"></div>
      <h2>Where are you now?</h2>
      <p>Tell us where you are now to get help in that area.</p>

      <form action="/gateway/emergency-check" method="get" class="content-block">
        <fieldset>
          <div class="form-group postcode">
            <div>
              <label for="postcode">Postcode</label>
              <input type="text" id="postcode" name="postcode" class="-small" autocomplete="off">
            </div>
            <div class="geolocate-link"><a href="#" id="geolocate">Use my current location</a></div>
          </div>
        </fieldset>
        <div class="form-group -controls">
          <a href="/gateway/emergency-check" class="button">Next</a>
        </div>
      </form>
  </div>

  <div class="callout callout--info">
    <p>Always follow any medical advice you’ve already been given by your doctor. This service is not a replacement for seeing a health professional. You can read read more about this in our <a href="#">terms and conditions</a>.</p>
  </div>

</div>

{% endblock %}

{% block body_after %}
<script type="text/javascript">

  var doGeo = function() {
    navigator.geolocation.getCurrentPosition(function(position) {
      var pos = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };
      updateVals(pos);
      // do stuff with the pos object
      mapObj.setCenter(pos);
    }, function() {
      // handle errors here
    });
  }

  $(function() {
    $('#geolocate').on('click', function(e) {
      e.preventDefault();
      $('#postcode').val('SE1 6LH');
    });
  });

</script>
{% endblock %}
